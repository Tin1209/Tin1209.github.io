---
title: 20210312TIL 
categories: 
- TIL
tags: 
- TIL
--- 


# 오늘 한 일 
------- 
<br/><br/>  

## 알짜딥러닝 
- 오늘 스터디에서 쓸 문제를 하나 만들었다. 실습 코드에서 쓰이는 함수들이 어떻게 사용되는지, 또 어떻게 써야하는지에 대한 이해와 응용을 요구하는 문제였다. 처음에는 손으로 계산하는 문제를 내려고 했다가 원리를 알고 코드가 돌아가는 방식만 알아도 충분하겠다 싶어서 함수를 이용하는 쪽으로 문제를 바꿨다. 문제를 만들면서 실습했던 코드를 자세히 이해하기 위해서 주석을 달아가며 다시 봤다. 
- 스터디 톡방에서 미니배치에 관한 질문이 올라왔는데, 그걸 보고 예전에 CNN 모델 실습을 할 때 BatchNorm2d 함수에 파라미터로 배치 사이즈가 들어가는 부분이 이해가 가지 않았던게 생각이 났다. 그때 사용했던 배치 사이즈와 지금 책에서 공부하는 배치 사이즈가 의미가 약간 다른거 같다는 느낌이 들었다. CNN 모델을 공부할 때는 아직 배치 정규화에 대한 내용을 배우지도 않았고 배치라는 개념이 아직 어렴풋할 때라 이해를 잘못 한걸수도 있겠다 싶었다. 내일 실습을 했던 코드를 보면서 다시 이해해야 할 것 같다. 

<br/>

## 알고리즘 
- 저번에 막혔던 RGB 거리 문제를 오늘 풀었다! 사실 어떻게 풀어야하지 좀 막막했었는데 저번에 풀었던 스티커 문제가 생각났다. 스티커 문제도 굉장히 비슷한 유형이었다. 세로로 2개, 가로로는 n개의 스티커가 붙어있는 상태에서 각 스티커 당 점수가 있었고, 인접해있는 스티커는 함께 떼어질 수 없을 때 얻을 수 있는 점수의 최댓값을 구하는 문제였다. 이 문제는 스티커 문제에서 단지 세로에 있는 스티커의 개수가 3개로 늘어난 것 뿐이었다. 심지어 스티커는 떼지 않고 지나가는 줄이 있을수도 있지만 이건 모든 집의 색을 칠해야하기 때문에 딱 인접해있는 집들만 고려를 해주면 되었다. dp table을 만들고 색깔의 인덱스를 012로 설정해주어 현재 인덱스에서 색깔이 i인 상황이라면, 바로 앞의 집의 색깔이 (i-1) % 3인 경우와 (i+1) % 3인 경우 중 비용이 작은 것만을 선택하는 식으로 코드를 짰다.
- 저 문제 같은 경우에도 바텀업 방식으로 짰다. 파이썬은 재귀함수 깊이가 제한되어 있기도 하고 바텀업만 하다보니 이게 더 편한것 같다. 그래도 지금 공부하는 책에서는 탑다운 방식을 훨씬 많이써서 이것도 익숙해져야 할 것 같다. 물론 이 문제는 바텀업이나 탑다운이나 풀이는 똑같이 나올 것 같다. 
- 다음으로 푼 문제는 곱셈 문제이다. 아직 못 풀었다.. 숫자 a, b, c를 주었을 때 a**b를 c로 나눈 나머지를 구하는 문제이다. 문제만 보면 굉장히 간단해 보이지만 abc의 범위가 무려 2,147,483,647이다! 아마 c언어나 자바에서 int의 숫자 표현 범위의 끝을 설정해준 것 같은데 이 문제를 풀면서 파이썬은 자료형도 선언해주지 않다보니 오버플로우 문제가 발생하지 않는다는 것을 처음 알게되었다. 물론 텐서나 토치, 넘파이 같이 데이터 타입이 주어지는 경우는 수의 표현 범위가 제한되는 것 같다. 
- 오버플로우가 없을에도 불구하고 (2^31)^(2^31) 을 계산해보면 답이 나오지 않는다. 아마 답이 나와도 읽을 수 없는 수가 나올것 같지만.. 수가 어느정도 커지다보면 연산하는데 시간이 오래 걸리는 것 같다. 문제의 시간제한이 0.5초인 것을 감안하면 터무니없는 방법이다. 
- 그래서 나는 거듭제곱을 분할을 이용해 푸는 방법을 선택하였다. 그리고 a^b는 결국 a를 b번 곱한것인데, a를 나머지정리를 이용해 표현해보면 a = a // c + a % c가 된다. 이 식을 b번 곱하면 나머지 항들은 모두 c의 배수가 되고, c^b을 다시 c로 나눈 나머지를 구하면 되는 것이다. 문제는 c^b도 너무 커서 연산이 오래걸리는 경우이다. 아직 이 부분을 어떻게 처리할지가 떠오르지 않아서 오늘은 그만 풀기로했다. 더 생각해보고 풀어야겠다. 


<br/><br/><br/><br/><br/> 

# 내일 할 일 
----- 
<br/><br/> 

## 알짜딥러닝 2강 이론 정리 

<br/> 

## 알고리즘 문제 해결 전략 8.13까지  
